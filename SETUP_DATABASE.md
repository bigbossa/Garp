# ЁЯОп р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╣Бр╕ер╕░р╕кр╕гр╣Йр╕▓р╕Зр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е

## тЬЕ р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Чр╕│р╣Ар╕кр╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕з

1. тЬЕ р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З `pg` р╣Бр╕ер╕░ `@types/pg` р╣Бр╕ер╣Йр╕з
2. тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣Мр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
3. тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╕гр╕░р╕Ър╕Ър╕кр╕гр╣Йр╕▓р╕Зр╕Хр╕▓р╕гр╕▓р╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
4. тЬЕ р╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣М Next.js р╕гр╕▒р╕Щр╕нр╕вр╕╣р╣Ир╕Чр╕╡р╣И http://localhost:3000

---

## ЁЯУЛ р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Хр╣Ир╕нр╣Др╕Ы

### р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 1: р╣Гр╕Кр╣Й pgAdmin р╕лр╕гр╕╖р╕н DBeaver (р╣Бр╕Щр╕░р╕Щр╕│)

1. **р╣Ар╕Ыр╕┤р╕Фр╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕б pgAdmin р╕лр╕гр╕╖р╕н DBeaver**

2. **р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╣Др╕Ыр╕вр╕▒р╕З PostgreSQL:**
   - Host: `127.0.0.1`
   - Port: `5432`
   - Username: `postgres`
   - Password: `25800852`

3. **р╕гр╕▒р╕Щр╕Др╕│р╕кр╕▒р╣Ир╕З SQL р╕Щр╕╡р╣Й:**
   ```sql
   CREATE DATABASE "Garp_RatioPresress";
   ```

4. **р╣Ар╕гр╕╡р╕вр╕Б API р╣Ар╕Юр╕╖р╣Ир╕нр╕кр╕гр╣Йр╕▓р╕Зр╕Хр╕▓р╕гр╕▓р╕З:**
   р╣Ар╕Ыр╕┤р╕Фр╣Ар╕Ър╕гр╕▓р╕зр╣Мр╣Ар╕Лр╕нр╕гр╣Мр╣Др╕Ыр╕Чр╕╡р╣И:
   ```
   http://localhost:3000/api/init-db
   ```
   
   р╕Ир╕░р╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕зр╣Ир╕▓:
   ```json
   {
     "success": true,
     "message": "р╕кр╕гр╣Йр╕▓р╕Зр╕Хр╕▓р╕гр╕▓р╕Зр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕гр╕╡р╕вр╕Ър╕гр╣Йр╕нр╕вр╣Бр╕ер╣Йр╕з"
   }
   ```

---

### р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 2: р╣Гр╕Кр╣Й psql command line

1. **р╣Ар╕Юр╕┤р╣Ир╕б PostgreSQL р╣Гр╕Щ PATH** (р╕Цр╣Йр╕▓р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕бр╕╡):
   ```powershell
   # р╕лр╕▓р╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕Зр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З PostgreSQL (р╣Вр╕Фр╕вр╕Чр╕▒р╣Ир╕зр╣Др╕Ыр╕нр╕вр╕╣р╣Ир╕Чр╕╡р╣И)
   C:\Program Files\PostgreSQL\{version}\bin
   
   # р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Вр╣Йр╕▓ PATH р╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ
   ```

2. **р╕кр╕гр╣Йр╕▓р╕Зр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е:**
   ```powershell
   $env:PGPASSWORD='25800852'
   psql -U postgres -h 127.0.0.1 -c "CREATE DATABASE \"Garp_RatioPresress\";"
   ```

3. **р╣Ар╕гр╕╡р╕вр╕Б API:**
   ```
   http://localhost:3000/api/init-db
   ```

---

## ЁЯЧВя╕П р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕З

```
graph-plotting-and-export/
тФЬтФАтФА .env.local                    # р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
тФЬтФАтФА database/
тФВ   тФЬтФАтФА create_database.sql      # SQL р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕гр╣Йр╕▓р╕З DB
тФВ   тФЬтФАтФА setup.sql                # SQL р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕гр╣Йр╕▓р╕Зр╕Хр╕▓р╕гр╕▓р╕З (manual)
тФВ   тФЬтФАтФА schema.sql               # Schema definition
тФВ   тФФтФАтФА README.md                # р╕Др╕╣р╣Ир╕бр╕╖р╕нр╣Ар╕Фр╕┤р╕б
тФЬтФАтФА lib/
тФВ   тФЬтФАтФА db.ts                    # Connection pool
тФВ   тФЬтФАтФА initDb.ts                # р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕кр╕гр╣Йр╕▓р╕Зр╕Хр╕▓р╕гр╕▓р╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤ тнР
тФВ   тФФтФАтФА projectService.ts        # CRUD operations
тФФтФАтФА app/api/init-db/
    тФФтФАтФА route.ts                 # API endpoint р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕гр╣Йр╕▓р╕Зр╕Хр╕▓р╕гр╕▓р╕З тнР
```

---

## ЁЯзк р╕Чр╕Фр╕кр╕нр╕Ър╕гр╕░р╕Ър╕Ъ

р╣Ар╕бр╕╖р╣Ир╕нр╕кр╕гр╣Йр╕▓р╕Зр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕ер╕░р╕Хр╕▓р╕гр╕▓р╕Зр╣Ар╕гр╕╡р╕вр╕Ър╕гр╣Йр╕нр╕вр╣Бр╕ер╣Йр╕з:

1. **р╣Ар╕Ыр╕┤р╕Фр╣Ар╕Ър╕гр╕▓р╕зр╣Мр╣Ар╕Лр╕нр╕гр╣М:** http://localhost:3000
2. **р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Бр╕гр╕▓р╕Я**
3. **р╕Юр╕гр╣Йр╕нр╕бр╣Ар╕Юр╕┤р╣Ир╕бр╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б/р╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕е**

---

## ЁЯФН р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕кр╕│р╣Ар╕гр╣Зр╕Ир╕лр╕гр╕╖р╕нр╣Др╕бр╣И

р╣Гр╕Щ pgAdmin р╕лр╕гр╕╖р╕н DBeaver р╕гр╕▒р╕Щр╕Др╕│р╕кр╕▒р╣Ир╕З:

```sql
-- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Хр╕▓р╕гр╕▓р╕З
SELECT * FROM projects;
SELECT * FROM data_points;

-- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ indexes
SELECT tablename, indexname 
FROM pg_indexes 
WHERE schemaname = 'public';
```

---

## ЁЯТб Note

- р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е **р╕Хр╣Йр╕нр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Бр╣Ир╕нр╕Щ** (р╣Гр╕Кр╣Й pgAdmin/DBeaver р╕лр╕гр╕╖р╕н psql)
- р╕Хр╕▓р╕гр╕▓р╕З **р╕кр╕гр╣Йр╕▓р╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤** р╕Ьр╣Ир╕▓р╕Щ API `/api/init-db`
- р╣Ар╕Лр╕┤р╕гр╣Мр╕Яр╣Ар╕зр╕нр╕гр╣М Next.js р╕гр╕▒р╕Щр╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕зр╕Чр╕╡р╣И `http://localhost:3000`
